(()=>{"use strict";var n={28:(n,t,e)=>{e.d(t,{Z:()=>c});var a=e(81),r=e.n(a),o=e(645),i=e.n(o)()(r());i.push([n.id,":root.dark {\n    --text-color: white;\n    --background: #0C0F1D;\n    --canvas-background: rgba(247, 247, 247, 0.37);\n    --btn-color: linear-gradient(to right, #8EC5FC, #E0C3FC);\n    --btn-text: #0D1117;\n    --nav-bg: rgb(27,29,42);\n    --edge-radius: 12px;\n    --gradient: linear-gradient(to bottom, #0D1117, rgb(80, 64, 116));\n}\n\n:root.light {\n    --text-color: #2430A9;\n    --background: rgb(221, 238, 243);\n    --canvas-background: rgba(128, 128, 128, 0.199);\n    --btn-color: linear-gradient(to right, #3742c2, #53B0D9);\n    --btn-text: white;\n    --edge-radius: 12px;\n    --gradient: linear-gradient(to bottom, #8EC5FC, #e8d4fc);\n    --nav-bg: rgb(208, 235, 243);\n}\n\n* {\n    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\n    margin: 0;\n    overflow-x: hidden;\n}\n\nbody {\n    color: var(--text-color);\n    background-color:var(--background);\n    background-size: 100vw;\n}\n\ncanvas {\n    width: 100%;\n    float: left;\n    background-color: var(--canvas-background);\n}\n\nnav {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-wrap: wrap;\n    padding: 15px;\n    border-bottom: 1px solid;\n    background-color: var(--nav-bg);\n    border-color: gray;\n}\n\nnav > button {\n    margin: 15px 0;\n}\n\n.content {\n    font-weight: bold;\n    width: auto;\n    margin-top: 15vh;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n}\n\n.content > .input, .content > .canvas {\n    margin: 0 20px 0 20px;\n}\n\n.content > .input {\n    width: auto;\n    padding: 10px 0;\n    margin: 20px;\n    display: grid;\n    grid-template: repeat(1, 1fr) / 1fr;\n    gap: 20px;\n}\n\nbutton {\n    color: var(--btn-text);\n    background-image: var(--btn-color);\n    border-radius: var(--edge-radius);\n    border: none;\n    padding: 5px 10px;\n    font-weight: 700;\n    letter-spacing: 3%;\n}\n\nbutton:hover {\n    opacity: 80%;\n    cursor: pointer;\n    transform: scale(1.08);\n    transition: transform 0.15s ease-out;\n}\n\n.content > .canvas {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n}\n\n.content > .canvas * {\n    margin: 5px;\n}\n\nol *{\n    margin: 15px;\n}\n\nimg {\n    border-radius: 5px;\n}\n\n@media (max-width: 1024px) {\n    .content {\n        margin: 3vh 0;\n    }\n}\n\n@media (max-width: 1024px) {\n    body {\n        background-size: 100vw;\n    }\n}\n\n@media (max-width: 768px) {\n    img {\n        width: 70%;\n        height: auto;\n    }\n}\n\n@media (max-width: 414px) {\n    body {\n        background-size: 100vw;\n    }\n}\n\n@media (max-width: 390px) {\n    img {\n        width: 80%;\n        height: auto;\n    }\n    \n    body {\n        background-size: 100vw;\n    }\n}\n\n#output {\n    visibility: hidden;\n    margin-top: 15px;\n    padding: 10px;\n    background-color: var(--canvas-background);\n    border-radius: var(--edge-radius);\n}\n\n",""]);const c=i},645:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e="",a=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),a&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),a&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(n,e,a,r,o){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(a)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var d=0;d<n.length;d++){var l=[].concat(n[d]);a&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),e&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=e):l[2]=e),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),t.push(l))}},t}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var t=[];function e(n){for(var e=-1,a=0;a<t.length;a++)if(t[a].identifier===n){e=a;break}return e}function a(n,a){for(var o={},i=[],c=0;c<n.length;c++){var s=n[c],d=a.base?s[0]+a.base:s[0],l=o[d]||0,u="".concat(d," ").concat(l);o[d]=l+1;var p=e(u),m={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var g=r(m,a);a.byIndex=c,t.splice(c,0,{identifier:u,updater:g,references:1})}i.push(u)}return i}function r(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,r){var o=a(n=n||[],r=r||{});return function(n){n=n||[];for(var i=0;i<o.length;i++){var c=e(o[i]);t[c].references--}for(var s=a(n,r),d=0;d<o.length;d++){var l=e(o[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=s}}},569:n=>{var t={};n.exports=function(n,e){var a=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}},216:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},565:(n,t,e)=>{n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},795:n=>{n.exports=function(n){var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var a="";e.supports&&(a+="@supports (".concat(e.supports,") {")),e.media&&(a+="@media ".concat(e.media," {"));var r=void 0!==e.layer;r&&(a+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),a+=e.css,r&&(a+="}"),e.media&&(a+="}"),e.supports&&(a+="}");var o=e.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(a,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}},589:n=>{n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}}},t={};function e(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={id:a,exports:{}};return n[a](o,o.exports,e),o.exports}e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var a in t)e.o(t,a)&&!e.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:t[a]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),e.nc=void 0,(()=>{function n(){return"K85339385488957"}const t={mainStats:{ATK:null,ATKPCNT:null,CRITDMG:null,CRITRATE:null,EM:null,ANEMO:null,CRYO:null,ELECTRO:null,GEO:null,HYDRO:null,PYRO:null,DENDRO:null},subStats:{atk:null,atkPercent:null,critDmg:null,critRate:null,elemMastery:null}},a=()=>({flatATK:/^ATK[+-]?[0-9]*$/,atkPcnt:new RegExp("^ATK[+-]?([0-9]+.?[0-9]*)%$"),critDmg:/^CRIT DMG[+-]?([0-9]+\.?[0-9]*)\%$/,critRate:/^CRIT Rate[+-]?([0-9]+\.?[0-9]*)\%$/,em:/^Elemental Mastery[+-]?[0-9]*$/}),r=document.getElementById("output"),o=()=>{const n=document.createElement("p");n.textContent="ERROR: unable to process text!",r.appendChild(n)},i=n=>{const t=document.createElement("p");r.appendChild(t),t.textContent=n};async function c(t){const e=document.getElementById("output");try{let a=function(t){let e=new Headers;e.append("apikey",`${n}`);let a=new FormData;return a.append("language","eng"),a.append("base64Image",`${t}`),a.append("OCREngine",2),{method:"POST",headers:e,body:a,redirect:"follow"}}(t);const r=await fetch("https://api.ocr.space/parse/image",a),o=await r.json();if(""===o.ParsedResults[0].ParsedText||o.IsErroredOnProcessing)throw"Unable to process image!";e.firstChild||async function(n){try{const t=await n.ParsedResults[0].ParsedText,e=await t.split("\n");for(let n=0;n<e.length;n++)s(e,n)}catch(n){i(n="ERROR: unable to render data!")}}(o)}catch(n){console.log(n),i("Unable to scan")}}async function s(n,e){const r=document.createElement("p"),o=document.getElementById("output");r.className="output";const i=new RegExp("^ATK$");var c;n[e].match(i)?(t.mainStats.ATK=n[e+1],r.textContent=`Main stat: ${n[e]}: ${n[e+1]}`):(c=n[e],(new Map).set("Gladiator's Destiny","Emblem"),(a().em.test(c)?(m=c.replace("Elemental Mastery+",""),!0):a().flatATK.test(c)?(d=c.replace("ATK+",""),!0):!!(a().critRate.test(c)||a().critDmg.test(c)||a().atkPcnt.test(c))&&(function(n){a().critRate.test(n)&&(p=n.replace("CRIT Rate+","").replace("%","")),a().critDmg.test(n)&&(u=n.replace("CRIT DMG+","").replace("%","")),a().atkPcnt.test(n)&&(l=n.replace("ATK+","").replace("%",""))}(c),!0))&&(r.textContent=`${n[e]}`)),o.appendChild(r)}let{atk:d,atkPercent:l,critDmg:u,critRate:p,elemMastery:m}=t.subStats;const g=()=>({requestImg:async()=>{document.getElementById("screenshot").addEventListener("change",(function(){try{const n=new FileReader;n.addEventListener("load",(()=>{sessionStorage.setItem("artifact",n.result)})),n.readAsDataURL(this.files[0])}catch(n){i(n="ERROR: no image found!")}})),document.getElementById("submit").addEventListener("click",(function(){(()=>{const n=sessionStorage.getItem("artifact");if(n){const t=new Image,e=document.getElementById("img-preview"),a=e.getContext("2d");a.clearRect(0,0,e.width,e.height),t.src=n,t.onload=()=>{var n=Math.min(e.width/t.width,e.height/t.height),r=e.width/2-t.width/2*n,o=e.height/2-t.height/2*n;a.drawImage(t,r,o,t.width*n,t.height*n)}}else o()})()}))}});var f=e(379),h=e.n(f),v=e(795),b=e.n(v),y=e(569),x=e.n(y),w=e(565),E=e.n(w),R=e(216),C=e.n(R),k=e(589),T=e.n(k),I=e(28),S={};S.styleTagTransform=T(),S.setAttributes=E(),S.insert=x().bind(null,"head"),S.domAPI=b(),S.insertStyleElement=C(),h()(I.Z,S),I.Z&&I.Z.locals&&I.Z.locals;const M=document.querySelector("#scan-btn"),D=document.querySelector("#submit"),A=(document.querySelector("#screenshot"),document.getElementById("output"));document.documentElement.className="dark",document.querySelector(".mode-toggle").addEventListener("click",(function(){const n=document.documentElement,t="dark"===n.className?"light":"dark";n.className=t})),document.addEventListener("DOMContentLoaded",(function(){g().requestImg()})),M.addEventListener("click",(()=>{!function(){const n=document.getElementById("output");for(;n.firstChild;)n.removeChild(n.firstChild)}(),A.style.visibility="visible";let n=sessionStorage.getItem("artifact");if(n){const e={extractText:c,dmgStats:t};e.extractText(n),console.log(e.dmgStats)}else o()})),D.addEventListener("click",(()=>{A.style.visibility="visible"})),window.addEventListener("beforeunload",(()=>{sessionStorage.clear()}))})()})();